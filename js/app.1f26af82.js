(function(o){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)a=s[d],n[a]&&h.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o[i]=l[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var o,t=0;t<r.length;t++){for(var e=r[t],i=!0,s=1;s<e.length;s++){var l=e[s];0!==n[l]&&(i=!1)}i&&(r.splice(t--,1),o=a(a.s=e[0]))}return o}var i={},n={app:0},r=[];function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=o,a.c=i,a.d=function(o,t,e){a.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:e})},a.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,t){if(1&t&&(o=a(o)),8&t)return o;if(4&t&&"object"===typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&t&&"string"!=typeof o)for(var i in o)a.d(e,i,function(t){return o[t]}.bind(null,i));return e},a.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return a.d(t,"a",t),t},a.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors"]),e()})({0:function(o,t,e){o.exports=e("56d7")},"0086":function(o,t,e){"use strict";var i=e("4731"),n=e.n(i);n.a},"034f":function(o,t,e){"use strict";var i=e("64a9"),n=e.n(i);n.a},4731:function(o,t,e){},"56d7":function(o,t,e){"use strict";e.r(t);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{attrs:{id:"app"}},[e("controller")],1)},r=[],a=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("login-nav",{attrs:{controller:o.controller},on:{login:o.Login,logout:function(t){o.logged=!1},showBooks:function(t){o.userBooks=!0}}}),o.logged?e("book-views",{attrs:{books:o.controller.items},on:{solicitaLivro:o.SolicitaLivro}}):o._e(),e("user-books-modal",{attrs:{showModal:o.userBooks,books:this.controller.GetUserById(this.activeUser).providedBooks},on:{closeModal:function(t){o.userBooks=!1}}})],1)},s=[],l=(e("6b54"),function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("div",[i("log-in-modal",{attrs:{showModal:o.logInModal,controller:o.controller},on:{closeModal:function(t){o.logInModal=!1},sucess:o.LoginSucess}}),i("b-navbar",{attrs:{variant:"dark",type:"dark",fixed:"top"}},[i("b-navbar-brand",{attrs:{href:"#"}},[i("img",{staticClass:"d-inline-block align-top",attrs:{src:e("cf05"),alt:"Kitten",width:"30",height:"30"}}),o._v("\n      BookaBook\n    ")]),i("b-navbar-nav",{staticClass:"ml-auto"},[i("b-nav-item-dropdown",{attrs:{right:""}},[i("template",{slot:"button-content"},[i("em",[o._v(o._s(this.controller.GetUserById(this.activeUser).name||"Usuário"))])]),o.loggedIn?i("b-dropdown-item",{on:{click:o.ShowItems}},[o._v("Ver Livros")]):o._e(),o.loggedIn?i("b-dropdown-item",{on:{click:o.Profile}},[o._v("Perfil")]):o._e(),o.loggedIn?i("b-dropdown-item",{on:{click:o.Signout}},[o._v("Sair")]):o._e(),o.loggedIn?o._e():i("b-dropdown-item",{on:{click:o.Signin}},[o._v("Entrar")])],2)],1)],1),0==o.loginType?i("h1",[o._v("Login Aluno")]):o._e(),1==o.loginType?i("h1",[o._v("Login Bibliotecario")]):o._e(),2==o.loginType?i("h1",[o._v("Login Coordenador")]):o._e()],1)}),c=[],u=(e("7514"),function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("b-modal",{attrs:{title:"Entrar","hide-footer":"",centered:"","no-close-on-backdrop":"","no-close-on-esc":""},model:{value:o.showModal,callback:function(t){o.showModal=t},expression:"showModal"}},[e("div",{staticClass:"d-block"},[e("b-form",{on:{submit:o.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-1",label:"Endereço de E-mail:","label-for":"input-1"}},[e("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Digite seu e-mail"},model:{value:o.form.email,callback:function(t){o.$set(o.form,"email",t)},expression:"form.email"}})],1),e("b-form-group",{attrs:{id:"input-group-2",label:"Senha:","label-for":"input-3"}},[e("b-form-input",{attrs:{id:"input-2",type:"password",required:"",placeholder:"Digite sua senha"},model:{value:o.form.password,callback:function(t){o.$set(o.form,"password",t)},expression:"form.password"}})],1),e("b-button",{staticClass:"mt-3",attrs:{block:"",type:"submit"}},[o._v("Entrar")])],1)],1),e("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:o.HideModal}},[o._v("Cancelar")])],1)],1)}),d=[],h={name:"login-modal",props:{showModal:{required:!0,default:!1},controller:{required:!0}},data:function(){return{form:{email:"",password:""}}},methods:{HideModal:function(){this.$emit("closeModal")},LogIn:function(){var o,t=this,e=this.controller.Login(this.form.email,this.form.password);0==e?o=this.controller.students.find(function(o){return o.email===t.form.email}).id:1==e?o=this.controller.librarians.find(function(o){return o.email===t.form.email}).id:2==e&&(o=this.controller.coordinators.find(function(o){return o.email===t.form.email}).id),-1!=e&&this.$emit("sucess",e,o),this.HideModal()},onSubmit:function(o){o.preventDefault(),this.LogIn()}}},m=h,f=e("2877"),b=Object(f["a"])(m,u,d,!1,null,null,null),v=b.exports,p={name:"LoginNav",components:{LogInModal:v},props:{controller:{required:!0}},data:function(){return{loggedIn:!1,activeUser:null,logInModal:!1,loginType:null}},methods:{ShowItems:function(){this.$emit("showBooks")},Signout:function(){this.loggedIn=!1,this.activeUser=null,this.loginType=-1,this.$emit("logout")},Signin:function(){this.logInModal=!0},LoginSucess:function(o,t){this.loggedIn=!0,this.loginType=o,this.activeUser=t,this.$emit("login",o,t)},Profile:function(){this.controller.find}},mounted:function(){}},g=p,k=Object(f["a"])(g,l,c,!1,null,null,null),S=k.exports,w=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("BookModal",{attrs:{showModal:o.bookModal,book:o.selectedBook},on:{closeModal:o.CloseBookModal,livroSolicitado:o.SolicitaLivro}}),o._l(o.books,function(t){return e("div",{key:t.book.isbn,staticClass:"text-center my-3"},[e("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover",value:t.book.autor,expression:"book.book.autor",modifiers:{hover:!0}}],attrs:{title:t.book.titulo},on:{click:function(e){return o.OpenBookModal(t)}}},[o._v(o._s(t.book.titulo))])],1)})],2)},_=[],M=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("b-modal",{attrs:{title:o.book.book.titulo,"hide-footer":"",centered:"","no-close-on-backdrop":"","no-close-on-esc":""},model:{value:o.showModal,callback:function(t){o.showModal=t},expression:"showModal"}},[e("div",{staticClass:"d-block"},[e("ul",[e("li",[o._v("Título: "+o._s(o.book.book.titulo))]),e("li",[o._v("ISBN: "+o._s(o.book.book.isbn))]),e("li",[o._v("Autor: "+o._s(o.book.book.autor))]),e("li",[o._v("Categoria: "+o._s(o.book.book.categoria))]),e("li",[o._v("Dono: "+o._s(o.book.owner.name))]),o.book.available?e("li",[o._v("Disponível: Sim")]):o._e(),o.book.available?o._e():e("li",[o._v("Disponível: Não")])])]),e("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:o.Select}},[o._v("Solicitar")]),e("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:o.HideModal}},[o._v("Fechar")])],1)],1)},B=[],y={name:"book-modal",props:{showModal:{required:!0,default:!1},book:{required:!0,default:null}},methods:{HideModal:function(){this.$emit("closeModal")},Select:function(){this.$emit("livroSolicitado"),this.HideModal()}},mounted:function(){}},O=y,I=Object(f["a"])(O,M,B,!1,null,null,null),j=I.exports,C={name:"BookViews",props:{books:{default:null}},components:{BookModal:j},data:function(){return{users:[],selectedBook:null,bookModal:!1}},methods:{OpenBookModal:function(o){this.selectedBook=o,this.bookModal=!0},CloseBookModal:function(){this.bookModal=!1},SolicitaLivro:function(){this.$emit("solicitaLivro",this.selectedBook)}},mounted:function(){}},L=C,A=(e("0086"),Object(f["a"])(L,w,_,!1,null,"3a71e37e",null)),P=A.exports,x=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("b-modal",{attrs:{title:"Meus Livros","hide-footer":"",centered:"","no-close-on-backdrop":"","no-close-on-esc":""},model:{value:o.showModal,callback:function(t){o.showModal=t},expression:"showModal"}},[e("div",{staticClass:"d-block"},[e("ul",o._l(o.books,function(t){return e("li",{key:t.isbn},[o._v(o._s(t.titulo))])}),0)]),e("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:o.HideModal}},[o._v("Fechar")])],1)],1)},N=[],R={name:"user-book-modal",props:{showModal:{required:!0,default:!1},books:{required:!0,default:null}},methods:{HideModal:function(){this.$emit("closeModal")}},mounted:function(){}},E=R,T=Object(f["a"])(E,x,N,!1,null,null,null),H=T.exports,$=e("308d"),U=e("6bb5"),D=e("4e2b"),J=(e("ac6a"),e("d225")),F=e("b0b4"),q=e("ca52"),K=function(){function o(){Object(J["a"])(this,o),this.coordinators=[],this.librarians=[],this.students=[],this.schools=[],this.items=[],this.transactions=[]}return Object(F["a"])(o,[{key:"AddCoord",value:function(o,t,e,i,n,r){var a=new W(o,t,e,i,n,r);this.coordinators.push(a)}},{key:"AddLibrarian",value:function(o,t,e,i,n,r,a){var s=o.RegisterLibrarian(t,e,i,n,r,a);this.librarians.push(s)}},{key:"AddStudent",value:function(o,t,e,i,n,r,a){var s=o.RegisterStudent(t,e,i,n,r,a);this.students.push(s)}},{key:"AddSchool",value:function(o,t,e,i,n,r){var a=new Z(o,t,e,i,n,r);this.schools.push(a)}},{key:"AddTransaction",value:function(o,t,e){var i=t.WithdrawBook(o,e);this.transactions.push(i)}},{key:"AddItem",value:function(o,t,e,i,n){var r=o.ProvideBook(t,e,i,n);this.items.push(r)}},{key:"RemoveItem",value:function(o,t){o.RemoveBook(t),this.items.splice(this.items.indexOf(this.items.find(function(o){return o.book.isbn===t})),1)}},{key:"Login",value:function(o,t){var e=this.students.find(function(t){return t.email===o});if(-1!=this.students.indexOf(e)){if(e.password===t)return 0}else{var i=this.librarians.find(function(t){return t.email===o});if(-1!=this.librarians.indexOf(i)){if(i.password===t)return 1}else{var n=this.coordinators.find(function(t){return t.email===o});if(-1!=this.coordinators.indexOf(n)&&n.password===t)return console.log("Login coordenador bem sucedido"),2}}return-1}},{key:"GetUserById",value:function(o){var t=this.students.find(function(t){return t.id===o});if(-1!=this.students.indexOf(t))return t;var e=this.librarians.find(function(t){return t.id===o});if(-1!=this.librarians.indexOf(e))return e;var i=this.coordinators.find(function(t){return t.id===o});return-1!=this.coordinators.indexOf(i)?i:-1}},{key:"Populate",value:function(){var o=this;this.AddCoord("_"+Math.random().toString(36).substr(2,9),"Clara Schmidt","clarabschmidt@hotmail.com","jacelindo","86031120020",991043374),this.AddCoord("_"+Math.random().toString(36).substr(2,9),"Pedro Weber Mendonca","pedroweberm@gmail.com","mElancia2","04690691082",985459166),this.AddCoord("_"+Math.random().toString(36).substr(2,9),"Gustavo Acauan Lorentz","gus.aca.lo@gmail.com","gremiomortal","69696969669",999999999),this.AddLibrarian(this.coordinators[0],"_"+Math.random().toString(36).substr(2,9),"Ana","ana@gmail.com","eusouaana","9",5),this.AddLibrarian(this.coordinators[1],"_"+Math.random().toString(36).substr(2,9),"Joao","joao@gmail.com","eusouojoao","8",4),this.AddLibrarian(this.coordinators[2],"_"+Math.random().toString(36).substr(2,9),"Pimenta","pimenta@gmail.com","eusouopimenta","7",3),this.AddSchool("Colegio mae de deus","90",this.coordinators[2],"Rua mario totta",65,this.librarians[0]),this.AddSchool("Colegio Joao Pualo I","77",this.coordinators[0],"Pedra Redonda",99,this.librarians[1]),this.AddSchool("Colegio Marista Rosario",87,this.coordinators[1],"Centro",65,this.librarians[2]),this.AddStudent(this.coordinators[0],"_"+Math.random().toString(36).substr(2,9),"Gustavinho","lalalasmurfs@gmail.com","gremio",this.schools[0],"Zona sul"),this.AddStudent(this.coordinators[1],"_"+Math.random().toString(36).substr(2,9),"Pedrinho","peter.wm@hotmail.com","inter",this.schools[1],"Zona sull"),this.AddStudent(this.coordinators[1],"_"+Math.random().toString(36).substr(2,9),"Pimentinha","pimenta@hotmail.com","reuso",this.schools[2],"Campus do vale"),q.books.forEach(function(t){o.AddItem(o.students[Math.floor(3*Math.random())],t.nome,t.ISBN,t.autor,t.categoria)})}}]),o}(),G=function o(t,e,i,n){Object(J["a"])(this,o),this.id=t,this.name=e,this.email=i,this.password=n},z=function(o){function t(o,e,i,n,r,a){var s;return Object(J["a"])(this,t),s=Object($["a"])(this,Object(U["a"])(t).call(this,o,e,i,n)),s.cpf=r,s.phoneNumber=a,s}return Object(D["a"])(t,o),Object(F["a"])(t,[{key:"RegisterStudent",value:function(o,t,e,i,n,r){var a=new V(o,t,e,i,n,r);return a}}]),t}(G),V=function(o){function t(o,e,i,n,r,a){var s;return Object(J["a"])(this,t),s=Object($["a"])(this,Object(U["a"])(t).call(this,o,e,i,n)),s.school=r,s.adress=a,s.providedBooks=[],s}return Object(D["a"])(t,o),Object(F["a"])(t,[{key:"RegisterBook",value:function(o,t,e,i){var n=new Q(o,t,e,i);return n}},{key:"ProvideBook",value:function(o,t,e,i){var n=this.RegisterBook(o,t,e,i);this.providedBooks.push(n);var r=new X(n,this);return r}},{key:"RemoveBook",value:function(o){this.providedBooks.splice(this.providedBooks.indexOf(this.providedBooks.find(function(t){return t.isbn===o})))}},{key:"WithdrawBook",value:function(o,t){var e=this.school.librarian.RegisterTransaction(o,this,t);return o.available=!1,e}}]),t}(G),W=function(o){function t(){return Object(J["a"])(this,t),Object($["a"])(this,Object(U["a"])(t).apply(this,arguments))}return Object(D["a"])(t,o),Object(F["a"])(t,[{key:"RegisterLibrarian",value:function(o,t,e,i,n,r){var a=new Y(o,t,e,i,n,r);return a}}]),t}(z),Y=function(o){function t(){return Object(J["a"])(this,t),Object($["a"])(this,Object(U["a"])(t).apply(this,arguments))}return Object(D["a"])(t,o),Object(F["a"])(t,[{key:"RegisterTransaction",value:function(o,t,e){var i=new oo(o,t,e);return i}}]),t}(z),Z=function o(t,e,i,n,r,a){Object(J["a"])(this,o),this.name=t,this.cnpj=e,this.coordinator=i,this.librarian=a,this.adress=n,this.phoneNumber=r},Q=function o(t,e,i,n){Object(J["a"])(this,o),this.titulo=t,this.isbn=e,this.autor=i,this.categoria=n},X=function o(t,e){Object(J["a"])(this,o),this.book=t,this.owner=e,this.available=!0},oo=function o(t,e,i){Object(J["a"])(this,o),this.item=t,this.receiver=e,this.returnDate=i,this.completed=!1},to={name:"Controller",components:{LoginNav:S,BookViews:P,UserBooksModal:H},data:function(){return{controller:null,logged:!1,loginType:-1,activeUser:null,userBooks:!1}},methods:{SolicitaLivro:function(o){var t=this.controller.GetUserById(this.activeUser),e=new Date,i=e.getDate()+7,n=e.getMonth(),r=e.getFullYear();i%31!=i&&(i%=31,n+=1),n%12!=n&&(n%=13,r+=1);var a=i.toString()+n.toString()+r.toString();this.controller.AddTransaction(o,t,a)},Login:function(o,t){this.loginType=o,this.activeUser=t,this.logged=!0},Logout:function(){this.loginType=-1,this.activeUser=null,this.logged=!1}},mounted:function(){this.controller=new K,this.controller.Populate()}},eo=to,io=Object(f["a"])(eo,a,s,!1,null,null,null),no=io.exports,ro={name:"app",components:{Controller:no}},ao=ro,so=(e("034f"),Object(f["a"])(ao,n,r,!1,null,null,null)),lo=so.exports,co=e("5f5b");e("f9e3"),e("2dd8");i["default"].config.productionTip=!1,i["default"].use(co["a"]),new i["default"]({render:function(o){return o(lo)}}).$mount("#app")},"64a9":function(o,t,e){},ca52:function(o){o.exports={books:[{ISBN:1,nome:"Como Fazer Amigos e Influenciar Pessoas",autor:"Dale Carnegie",categoria:"Autoajuda"},{ISBN:2,nome:"Mindset: A Nova Psicologia do Sucesso",autor:"Carol Dweck",categoria:"Autoajuda"},{ISBN:3,nome:"Mr. Mercedes",autor:"Stephen King",categoria:"Suspense"},{ISBN:4,nome:"Hacking Para Leigos",autor:"Kevin Beaver",categoria:"Informativo"},{ISBN:5,nome:"Superinteligência",autor:"Nick Bostrom",categoria:"Informativo"},{ISBN:6,nome:"Homo Deus: Uma Breve História do Amanhã",autor:"Yuval Harari",categoria:"Informativo"},{ISBN:7,nome:"21 Lições para o Século 21",autor:"Yuval Harari",categoria:"Informativo"},{ISBN:8,nome:"Achados e perdidos",autor:"Stephen King",categoria:"Suspense"},{ISBN:9,nome:"Como Evitar Preocupacoes E Comecar A Viver",autor:"Dale Carnegie",categoria:"Autoajuda"},{ISBN:10,nome:"Harry Potter e a Pedra Filosofal",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:11,nome:"Harry Potter e a Câmara Secreta",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:12,nome:"Harry Potter e o Prisioneiro de Azkaban",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:13,nome:"Harry Potter e o Cálice de Fogo",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:14,nome:"Harry Potter e a Ordem da Fênix",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:15,nome:"Harry Potter e o Enigma do Príncipe",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:16,nome:"Harry Potter e as Relíquias da Morte",autor:"J. K. Rowling",categoria:"Fantastico"},{ISBN:17,nome:"Cinquenta Tons de Cinza",autor:"E. L. James",categoria:"Romance"},{ISBN:18,nome:"Cinquenta Tons mais Escuros",autor:"E. L. James",categoria:"Romance"},{ISBN:19,nome:"Cinquenta Tons de Liberdade",autor:"E. L. James",categoria:"Romance"},{ISBN:20,nome:"UML 2 for Dummies",autor:"Michael Jesse Chonoles",categoria:"Informativo"},{ISBN:21,nome:"After: Depois da verdade",autor:"Anna Todd",categoria:"Romance"}]}},cf05:function(o,t,e){o.exports=e.p+"img/logo.5ab0e2ef.png"}});
//# sourceMappingURL=app.1f26af82.js.map